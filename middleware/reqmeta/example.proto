syntax = "proto3";

package example;

import "openapi/v3/annotations.proto";

option go_package = "go-kit/middleware/reqmeta";


message ExampleRequest {
  option (openapi.v3.schema) = {
		specification_extension: [
			{
				name: "x-resource-type"
				value: {
					yaml: "order"
				}
			},
			{
				name: "x-resource-id-field"
				value: {
					yaml: "id"
				}
			},
            {
				name: "x-resource-action"
				value: {
					yaml: "REMOVE"
				}
			},
			{
				name: "x-resource-self-hold"
				value: {
					yaml: "true"
				}
			},
			{
				name: "x-resource-collection"
				value: {
					yaml: "false"
				}
			},
			{
				name: "x-resource-owner-id-field"
				value: {
					yaml: "user_id"
				}
			},
			{
				name: "x-resource-owner-type"
				value: {
					yaml: "user"
				}
			}
		]
  	};

    int64 id = 1;
	int64 user_id = 2;
}

message MissingIdField {
  option (openapi.v3.schema) = {
		specification_extension: [
			{
				name: "x-resource-type"
				value: {
					yaml: "order"
				}
			},
			{
				name: "x-resource-id-field"
				value: {
					yaml: "id"
				}
			},
            {
				name: "x-action"
				value: {
					yaml: "REMOVE"
				}
			},
			{
				name: "x-self-hold"
				value: {
					yaml: "true"
				}
			},
			{
				name: "x-resource-collection"
				value: {
					yaml: "false"
				}
			}
		]
  	};
}